(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const K={},Ot=[],Ee=()=>{},Ko=()=>!1,Ds=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Kr=t=>t.startsWith("onUpdate:"),se=Object.assign,Vr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Vo=Object.prototype.hasOwnProperty,H=(t,e)=>Vo.call(t,e),j=Array.isArray,At=t=>Us(t)==="[object Map]",un=t=>Us(t)==="[object Set]",L=t=>typeof t=="function",X=t=>typeof t=="string",et=t=>typeof t=="symbol",Q=t=>t!==null&&typeof t=="object",hn=t=>(Q(t)||L(t))&&L(t.then)&&L(t.catch),fn=Object.prototype.toString,Us=t=>fn.call(t),Jo=t=>Us(t).slice(8,-1),dn=t=>Us(t)==="[object Object]",Jr=t=>X(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vt=qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Wo=/-(\w)/g,Ze=Ms(t=>t.replace(Wo,(e,s)=>s?s.toUpperCase():"")),zo=/\B([A-Z])/g,_t=Ms(t=>t.replace(zo,"-$1").toLowerCase()),pn=Ms(t=>t.charAt(0).toUpperCase()+t.slice(1)),rr=Ms(t=>t?`on${pn(t)}`:""),Xe=(t,e)=>!Object.is(t,e),Es=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},gn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Sr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yi;const Fs=()=>yi||(yi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wr(t){if(j(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],i=X(r)?Xo(r):Wr(r);if(i)for(const n in i)e[n]=i[n]}return e}else if(X(t)||Q(t))return t}const Go=/;(?![^(]*\))/g,Yo=/:([^]+)/,Qo=/\/\*[^]*?\*\//g;function Xo(t){const e={};return t.replace(Qo,"").split(Go).forEach(s=>{if(s){const r=s.split(Yo);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ns(t){let e="";if(X(t))e=t;else if(j(t))for(let s=0;s<t.length;s++){const r=Ns(t[s]);r&&(e+=r+" ")}else if(Q(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Zo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ea=qr(Zo);function _n(t){return!!t||t===""}const vn=t=>!!(t&&t.__v_isRef===!0),Tr=t=>X(t)?t:t==null?"":j(t)||Q(t)&&(t.toString===fn||!L(t.toString))?vn(t)?Tr(t.value):JSON.stringify(t,mn,2):String(t),mn=(t,e)=>vn(e)?mn(t,e.value):At(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,i],n)=>(s[ir(r,n)+" =>"]=i,s),{})}:un(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>ir(s))}:et(e)?ir(e):Q(e)&&!j(e)&&!dn(e)?String(e):e,ir=(t,e="")=>{var s;return et(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let me;class ta{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=me,!e&&me&&(this.index=(me.scopes||(me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=me;try{return me=this,e()}finally{me=s}}}on(){me=this}off(){me=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function sa(){return me}let z;const nr=new WeakSet;class yn{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,me&&me.active&&me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nr.has(this)&&(nr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bi(this),Sn(this);const e=z,s=ke;z=this,ke=!0;try{return this.fn()}finally{Tn(this),z=e,ke=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yr(e);this.deps=this.depsTail=void 0,bi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Er(this)&&this.run()}get dirty(){return Er(this)}}let bn=0,Jt,Wt;function wn(t,e=!1){if(t.flags|=8,e){t.next=Wt,Wt=t;return}t.next=Jt,Jt=t}function zr(){bn++}function Gr(){if(--bn>0)return;if(Wt){let e=Wt;for(Wt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Jt;){let e=Jt;for(Jt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Sn(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Tn(t){let e,s=t.depsTail,r=s;for(;r;){const i=r.prevDep;r.version===-1?(r===s&&(s=i),Yr(r),ra(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=s}function Er(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(En(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function En(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ts))return;t.globalVersion=ts;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Er(t)){t.flags&=-3;return}const s=z,r=ke;z=t,ke=!0;try{Sn(t);const i=t.fn(t._value);(e.version===0||Xe(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{z=s,ke=r,Tn(t),t.flags&=-3}}function Yr(t,e=!1){const{dep:s,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let n=s.computed.deps;n;n=n.nextDep)Yr(n,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function ra(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let ke=!0;const kn=[];function tt(){kn.push(ke),ke=!1}function st(){const t=kn.pop();ke=t===void 0?!0:t}function bi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=z;z=void 0;try{e()}finally{z=s}}}let ts=0;class ia{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!z||!ke||z===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==z)s=this.activeLink=new ia(z,this),z.deps?(s.prevDep=z.depsTail,z.depsTail.nextDep=s,z.depsTail=s):z.deps=z.depsTail=s,xn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=z.depsTail,s.nextDep=void 0,z.depsTail.nextDep=s,z.depsTail=s,z.deps===s&&(z.deps=r)}return s}trigger(e){this.version++,ts++,this.notify(e)}notify(e){zr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Gr()}}}function xn(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)xn(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const As=new WeakMap,dt=Symbol(""),kr=Symbol(""),ss=Symbol("");function ie(t,e,s){if(ke&&z){let r=As.get(t);r||As.set(t,r=new Map);let i=r.get(s);i||(r.set(s,i=new Qr),i.map=r,i.key=s),i.track()}}function Fe(t,e,s,r,i,n){const o=As.get(t);if(!o){ts++;return}const a=l=>{l&&l.trigger()};if(zr(),e==="clear")o.forEach(a);else{const l=j(t),u=l&&Jr(s);if(l&&s==="length"){const c=Number(r);o.forEach((f,p)=>{(p==="length"||p===ss||!et(p)&&p>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(ss)),e){case"add":l?u&&a(o.get("length")):(a(o.get(dt)),At(t)&&a(o.get(kr)));break;case"delete":l||(a(o.get(dt)),At(t)&&a(o.get(kr)));break;case"set":At(t)&&a(o.get(dt));break}}Gr()}function na(t,e){const s=As.get(t);return s&&s.get(e)}function yt(t){const e=B(t);return e===t?e:(ie(e,"iterate",ss),xe(t)?e:e.map(le))}function Xr(t){return ie(t=B(t),"iterate",ss),t}const oa={__proto__:null,[Symbol.iterator](){return or(this,Symbol.iterator,le)},concat(...t){return yt(this).concat(...t.map(e=>j(e)?yt(e):e))},entries(){return or(this,"entries",t=>(t[1]=le(t[1]),t))},every(t,e){return Le(this,"every",t,e,void 0,arguments)},filter(t,e){return Le(this,"filter",t,e,s=>s.map(le),arguments)},find(t,e){return Le(this,"find",t,e,le,arguments)},findIndex(t,e){return Le(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Le(this,"findLast",t,e,le,arguments)},findLastIndex(t,e){return Le(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Le(this,"forEach",t,e,void 0,arguments)},includes(...t){return ar(this,"includes",t)},indexOf(...t){return ar(this,"indexOf",t)},join(t){return yt(this).join(t)},lastIndexOf(...t){return ar(this,"lastIndexOf",t)},map(t,e){return Le(this,"map",t,e,void 0,arguments)},pop(){return Nt(this,"pop")},push(...t){return Nt(this,"push",t)},reduce(t,...e){return wi(this,"reduce",t,e)},reduceRight(t,...e){return wi(this,"reduceRight",t,e)},shift(){return Nt(this,"shift")},some(t,e){return Le(this,"some",t,e,void 0,arguments)},splice(...t){return Nt(this,"splice",t)},toReversed(){return yt(this).toReversed()},toSorted(t){return yt(this).toSorted(t)},toSpliced(...t){return yt(this).toSpliced(...t)},unshift(...t){return Nt(this,"unshift",t)},values(){return or(this,"values",le)}};function or(t,e,s){const r=Xr(t),i=r[e]();return r!==t&&!xe(t)&&(i._next=i.next,i.next=()=>{const n=i._next();return n.value&&(n.value=s(n.value)),n}),i}const aa=Array.prototype;function Le(t,e,s,r,i,n){const o=Xr(t),a=o!==t&&!xe(t),l=o[e];if(l!==aa[e]){const f=l.apply(t,n);return a?le(f):f}let u=s;o!==t&&(a?u=function(f,p){return s.call(this,le(f),p,t)}:s.length>2&&(u=function(f,p){return s.call(this,f,p,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function wi(t,e,s,r){const i=Xr(t);let n=s;return i!==t&&(xe(t)?s.length>3&&(n=function(o,a,l){return s.call(this,o,a,l,t)}):n=function(o,a,l){return s.call(this,o,le(a),l,t)}),i[e](n,...r)}function ar(t,e,s){const r=B(t);ie(r,"iterate",ss);const i=r[e](...s);return(i===-1||i===!1)&&si(s[0])?(s[0]=B(s[0]),r[e](...s)):i}function Nt(t,e,s=[]){tt(),zr();const r=B(t)[e].apply(t,s);return Gr(),st(),r}const la=qr("__proto__,__v_isRef,__isVue"),On=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(et));function ca(t){et(t)||(t=String(t));const e=B(this);return ie(e,"has",t),e.hasOwnProperty(t)}class An{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,n=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return n;if(s==="__v_raw")return r===(i?n?ya:jn:n?$n:Cn).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=j(e);if(!i){let l;if(o&&(l=oa[s]))return l;if(s==="hasOwnProperty")return ca}const a=Reflect.get(e,s,te(e)?e:r);return(et(s)?On.has(s):la(s))||(i||ie(e,"get",s),n)?a:te(a)?o&&Jr(s)?a:a.value:Q(a)?i?Rn(a):ei(a):a}}class Pn extends An{constructor(e=!1){super(!1,e)}set(e,s,r,i){let n=e[s];if(!this._isShallow){const l=pt(n);if(!xe(r)&&!pt(r)&&(n=B(n),r=B(r)),!j(e)&&te(n)&&!te(r))return l?!1:(n.value=r,!0)}const o=j(e)&&Jr(s)?Number(s)<e.length:H(e,s),a=Reflect.set(e,s,r,te(e)?e:i);return e===B(i)&&(o?Xe(r,n)&&Fe(e,"set",s,r):Fe(e,"add",s,r)),a}deleteProperty(e,s){const r=H(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&r&&Fe(e,"delete",s,void 0),i}has(e,s){const r=Reflect.has(e,s);return(!et(s)||!On.has(s))&&ie(e,"has",s),r}ownKeys(e){return ie(e,"iterate",j(e)?"length":dt),Reflect.ownKeys(e)}}class ua extends An{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const ha=new Pn,fa=new ua,da=new Pn(!0);const xr=t=>t,vs=t=>Reflect.getPrototypeOf(t);function pa(t,e,s){return function(...r){const i=this.__v_raw,n=B(i),o=At(n),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=s?xr:e?Or:le;return!e&&ie(n,"iterate",l?kr:dt),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function ms(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ga(t,e){const s={get(i){const n=this.__v_raw,o=B(n),a=B(i);t||(Xe(i,a)&&ie(o,"get",i),ie(o,"get",a));const{has:l}=vs(o),u=e?xr:t?Or:le;if(l.call(o,i))return u(n.get(i));if(l.call(o,a))return u(n.get(a));n!==o&&n.get(i)},get size(){const i=this.__v_raw;return!t&&ie(B(i),"iterate",dt),Reflect.get(i,"size",i)},has(i){const n=this.__v_raw,o=B(n),a=B(i);return t||(Xe(i,a)&&ie(o,"has",i),ie(o,"has",a)),i===a?n.has(i):n.has(i)||n.has(a)},forEach(i,n){const o=this,a=o.__v_raw,l=B(a),u=e?xr:t?Or:le;return!t&&ie(l,"iterate",dt),a.forEach((c,f)=>i.call(n,u(c),u(f),o))}};return se(s,t?{add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear")}:{add(i){!e&&!xe(i)&&!pt(i)&&(i=B(i));const n=B(this);return vs(n).has.call(n,i)||(n.add(i),Fe(n,"add",i,i)),this},set(i,n){!e&&!xe(n)&&!pt(n)&&(n=B(n));const o=B(this),{has:a,get:l}=vs(o);let u=a.call(o,i);u||(i=B(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,n),u?Xe(n,c)&&Fe(o,"set",i,n):Fe(o,"add",i,n),this},delete(i){const n=B(this),{has:o,get:a}=vs(n);let l=o.call(n,i);l||(i=B(i),l=o.call(n,i)),a&&a.call(n,i);const u=n.delete(i);return l&&Fe(n,"delete",i,void 0),u},clear(){const i=B(this),n=i.size!==0,o=i.clear();return n&&Fe(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=pa(i,t,e)}),s}function Zr(t,e){const s=ga(t,e);return(r,i,n)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(H(s,i)&&i in r?s:r,i,n)}const _a={get:Zr(!1,!1)},va={get:Zr(!1,!0)},ma={get:Zr(!0,!1)};const Cn=new WeakMap,$n=new WeakMap,jn=new WeakMap,ya=new WeakMap;function ba(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wa(t){return t.__v_skip||!Object.isExtensible(t)?0:ba(Jo(t))}function ei(t){return pt(t)?t:ti(t,!1,ha,_a,Cn)}function Sa(t){return ti(t,!1,da,va,$n)}function Rn(t){return ti(t,!0,fa,ma,jn)}function ti(t,e,s,r,i){if(!Q(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=i.get(t);if(n)return n;const o=wa(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return i.set(t,a),a}function zt(t){return pt(t)?zt(t.__v_raw):!!(t&&t.__v_isReactive)}function pt(t){return!!(t&&t.__v_isReadonly)}function xe(t){return!!(t&&t.__v_isShallow)}function si(t){return t?!!t.__v_raw:!1}function B(t){const e=t&&t.__v_raw;return e?B(e):t}function Ta(t){return!H(t,"__v_skip")&&Object.isExtensible(t)&&gn(t,"__v_skip",!0),t}const le=t=>Q(t)?ei(t):t,Or=t=>Q(t)?Rn(t):t;function te(t){return t?t.__v_isRef===!0:!1}function Ne(t){return Ea(t,!1)}function Ea(t,e){return te(t)?t:new ka(t,e)}class ka{constructor(e,s){this.dep=new Qr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:B(e),this._value=s?e:le(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||xe(e)||pt(e);e=r?e:B(e),Xe(e,s)&&(this._rawValue=e,this._value=r?e:le(e),this.dep.trigger())}}function In(t){return te(t)?t.value:t}const xa={get:(t,e,s)=>e==="__v_raw"?t:In(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const i=t[e];return te(i)&&!te(s)?(i.value=s,!0):Reflect.set(t,e,s,r)}};function Ln(t){return zt(t)?t:new Proxy(t,xa)}function Oa(t){const e=j(t)?new Array(t.length):{};for(const s in t)e[s]=Pa(t,s);return e}class Aa{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return na(B(this._object),this._key)}}function Pa(t,e,s){const r=t[e];return te(r)?r:new Aa(t,e,s)}class Ca{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Qr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ts-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&z!==this)return wn(this,!0),!0}get value(){const e=this.dep.track();return En(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function $a(t,e,s=!1){let r,i;return L(t)?r=t:(r=t.get,i=t.set),new Ca(r,i,s)}const ys={},Ps=new WeakMap;let ut;function ja(t,e=!1,s=ut){if(s){let r=Ps.get(s);r||Ps.set(s,r=[]),r.push(t)}}function Ra(t,e,s=K){const{immediate:r,deep:i,once:n,scheduler:o,augmentJob:a,call:l}=s,u=O=>i?O:xe(O)||i===!1||i===0?Be(O,1):Be(O);let c,f,p,g,E=!1,x=!1;if(te(t)?(f=()=>t.value,E=xe(t)):zt(t)?(f=()=>u(t),E=!0):j(t)?(x=!0,E=t.some(O=>zt(O)||xe(O)),f=()=>t.map(O=>{if(te(O))return O.value;if(zt(O))return u(O);if(L(O))return l?l(O,2):O()})):L(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){tt();try{p()}finally{st()}}const O=ut;ut=c;try{return l?l(t,3,[g]):t(g)}finally{ut=O}}:f=Ee,e&&i){const O=f,N=i===!0?1/0:i;f=()=>Be(O(),N)}const C=sa(),R=()=>{c.stop(),C&&C.active&&Vr(C.effects,c)};if(n&&e){const O=e;e=(...N)=>{O(...N),R()}}let F=x?new Array(t.length).fill(ys):ys;const M=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const N=c.run();if(i||E||(x?N.some((Ke,Oe)=>Xe(Ke,F[Oe])):Xe(N,F))){p&&p();const Ke=ut;ut=c;try{const Oe=[N,F===ys?void 0:x&&F[0]===ys?[]:F,g];l?l(e,3,Oe):e(...Oe),F=N}finally{ut=Ke}}}else c.run()};return a&&a(M),c=new yn(f),c.scheduler=o?()=>o(M,!1):M,g=O=>ja(O,!1,c),p=c.onStop=()=>{const O=Ps.get(c);if(O){if(l)l(O,4);else for(const N of O)N();Ps.delete(c)}},e?r?M(!0):F=c.run():o?o(M.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function Be(t,e=1/0,s){if(e<=0||!Q(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,te(t))Be(t.value,e,s);else if(j(t))for(let r=0;r<t.length;r++)Be(t[r],e,s);else if(un(t)||At(t))t.forEach(r=>{Be(r,e,s)});else if(dn(t)){for(const r in t)Be(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Be(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ls(t,e,s,r){try{return r?t(...r):t()}catch(i){Bs(i,e,s)}}function Ie(t,e,s,r){if(L(t)){const i=ls(t,e,s,r);return i&&hn(i)&&i.catch(n=>{Bs(n,e,s)}),i}if(j(t)){const i=[];for(let n=0;n<t.length;n++)i.push(Ie(t[n],e,s,r));return i}}function Bs(t,e,s,r=!0){const i=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||K;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(n){tt(),ls(n,null,10,[t,l,u]),st();return}}Ia(t,s,i,r,o)}function Ia(t,e,s,r=!0,i=!1){if(i)throw t;console.error(t)}const ce=[];let je=-1;const Pt=[];let ze=null,Tt=0;const Dn=Promise.resolve();let Cs=null;function La(t){const e=Cs||Dn;return t?e.then(this?t.bind(this):t):e}function Da(t){let e=je+1,s=ce.length;for(;e<s;){const r=e+s>>>1,i=ce[r],n=rs(i);n<t||n===t&&i.flags&2?e=r+1:s=r}return e}function ri(t){if(!(t.flags&1)){const e=rs(t),s=ce[ce.length-1];!s||!(t.flags&2)&&e>=rs(s)?ce.push(t):ce.splice(Da(e),0,t),t.flags|=1,Un()}}function Un(){Cs||(Cs=Dn.then(Fn))}function Ua(t){j(t)?Pt.push(...t):ze&&t.id===-1?ze.splice(Tt+1,0,t):t.flags&1||(Pt.push(t),t.flags|=1),Un()}function Si(t,e,s=je+1){for(;s<ce.length;s++){const r=ce[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ce.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Mn(t){if(Pt.length){const e=[...new Set(Pt)].sort((s,r)=>rs(s)-rs(r));if(Pt.length=0,ze){ze.push(...e);return}for(ze=e,Tt=0;Tt<ze.length;Tt++){const s=ze[Tt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ze=null,Tt=0}}const rs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Fn(t){const e=Ee;try{for(je=0;je<ce.length;je++){const s=ce[je];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),ls(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;je<ce.length;je++){const s=ce[je];s&&(s.flags&=-2)}je=-1,ce.length=0,Mn(),Cs=null,(ce.length||Pt.length)&&Fn()}}let be=null,Nn=null;function $s(t){const e=be;return be=t,Nn=t&&t.type.__scopeId||null,e}function Ma(t,e=be,s){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ci(-1);const n=$s(e);let o;try{o=t(...i)}finally{$s(n),r._d&&Ci(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Fa(t,e){if(be===null)return t;const s=Vs(be),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[n,o,a,l=K]=e[i];n&&(L(n)&&(n={mounted:n,updated:n}),n.deep&&Be(o),r.push({dir:n,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function at(t,e,s,r){const i=t.dirs,n=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];n&&(a.oldValue=n[o].value);let l=a.dir[r];l&&(tt(),Ie(l,s,8,[t.el,a,t,e]),st())}}const Na=Symbol("_vte"),Ba=t=>t.__isTeleport;function ii(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ii(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Bn(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function js(t,e,s,r,i=!1){if(j(t)){t.forEach((E,x)=>js(E,e&&(j(e)?e[x]:e),s,r,i));return}if(Gt(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&js(t,e,s,r.component.subTree);return}const n=r.shapeFlag&4?Vs(r.component):r.el,o=i?null:n,{i:a,r:l}=t,u=e&&e.r,c=a.refs===K?a.refs={}:a.refs,f=a.setupState,p=B(f),g=f===K?()=>!1:E=>H(p,E);if(u!=null&&u!==l&&(X(u)?(c[u]=null,g(u)&&(f[u]=null)):te(u)&&(u.value=null)),L(l))ls(l,a,12,[o,c]);else{const E=X(l),x=te(l);if(E||x){const C=()=>{if(t.f){const R=E?g(l)?f[l]:c[l]:l.value;i?j(R)&&Vr(R,n):j(R)?R.includes(n)||R.push(n):E?(c[l]=[n],g(l)&&(f[l]=c[l])):(l.value=[n],t.k&&(c[t.k]=l.value))}else E?(c[l]=o,g(l)&&(f[l]=o)):x&&(l.value=o,t.k&&(c[t.k]=o))};o?(C.id=-1,_e(C,s)):C()}}}Fs().requestIdleCallback;Fs().cancelIdleCallback;const Gt=t=>!!t.type.__asyncLoader,Hn=t=>t.type.__isKeepAlive;function Ha(t,e){qn(t,"a",e)}function qa(t,e){qn(t,"da",e)}function qn(t,e,s=ue){const r=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Hs(e,r,s),s){let i=s.parent;for(;i&&i.parent;)Hn(i.parent.vnode)&&Ka(r,e,s,i),i=i.parent}}function Ka(t,e,s,r){const i=Hs(e,t,r,!0);Kn(()=>{Vr(r[e],i)},s)}function Hs(t,e,s=ue,r=!1){if(s){const i=s[t]||(s[t]=[]),n=e.__weh||(e.__weh=(...o)=>{tt();const a=cs(s),l=Ie(e,s,t,o);return a(),st(),l});return r?i.unshift(n):i.push(n),n}}const qe=t=>(e,s=ue)=>{(!ns||t==="sp")&&Hs(t,(...r)=>e(...r),s)},Va=qe("bm"),ni=qe("m"),Ja=qe("bu"),Wa=qe("u"),za=qe("bum"),Kn=qe("um"),Ga=qe("sp"),Ya=qe("rtg"),Qa=qe("rtc");function Xa(t,e=ue){Hs("ec",t,e)}const Za=Symbol.for("v-ndc"),Ar=t=>t?fo(t)?Vs(t):Ar(t.parent):null,Yt=se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ar(t.parent),$root:t=>Ar(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>oi(t),$forceUpdate:t=>t.f||(t.f=()=>{ri(t.update)}),$nextTick:t=>t.n||(t.n=La.bind(t.proxy)),$watch:t=>wl.bind(t)}),lr=(t,e)=>t!==K&&!t.__isScriptSetup&&H(t,e),el={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:i,props:n,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return i[e];case 4:return s[e];case 3:return n[e]}else{if(lr(r,e))return o[e]=1,r[e];if(i!==K&&H(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&H(u,e))return o[e]=3,n[e];if(s!==K&&H(s,e))return o[e]=4,s[e];Pr&&(o[e]=0)}}const c=Yt[e];let f,p;if(c)return e==="$attrs"&&ie(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==K&&H(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,H(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:i,ctx:n}=t;return lr(i,e)?(i[e]=s,!0):r!==K&&H(r,e)?(r[e]=s,!0):H(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:i,propsOptions:n}},o){let a;return!!s[o]||t!==K&&H(t,o)||lr(e,o)||(a=n[0])&&H(a,o)||H(r,o)||H(Yt,o)||H(i.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:H(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ti(t){return j(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Pr=!0;function tl(t){const e=oi(t),s=t.proxy,r=t.ctx;Pr=!1,e.beforeCreate&&Ei(e.beforeCreate,t,"bc");const{data:i,computed:n,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:p,beforeUpdate:g,updated:E,activated:x,deactivated:C,beforeDestroy:R,beforeUnmount:F,destroyed:M,unmounted:O,render:N,renderTracked:Ke,renderTriggered:Oe,errorCaptured:Ve,serverPrefetch:fs,expose:it,inheritAttrs:Ut,components:ds,directives:ps,filters:Zs}=e;if(u&&sl(u,r,null),o)for(const G in o){const V=o[G];L(V)&&(r[G]=V.bind(s))}if(i){const G=i.call(s,s);Q(G)&&(t.data=ei(G))}if(Pr=!0,n)for(const G in n){const V=n[G],nt=L(V)?V.bind(s,s):L(V.get)?V.get.bind(s,s):Ee,gs=!L(V)&&L(V.set)?V.set.bind(s):Ee,ot=Bl({get:nt,set:gs});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>ot.value,set:Ae=>ot.value=Ae})}if(a)for(const G in a)Vn(a[G],r,s,G);if(l){const G=L(l)?l.call(s):l;Reflect.ownKeys(G).forEach(V=>{ll(V,G[V])})}c&&Ei(c,t,"c");function ne(G,V){j(V)?V.forEach(nt=>G(nt.bind(s))):V&&G(V.bind(s))}if(ne(Va,f),ne(ni,p),ne(Ja,g),ne(Wa,E),ne(Ha,x),ne(qa,C),ne(Xa,Ve),ne(Qa,Ke),ne(Ya,Oe),ne(za,F),ne(Kn,O),ne(Ga,fs),j(it))if(it.length){const G=t.exposed||(t.exposed={});it.forEach(V=>{Object.defineProperty(G,V,{get:()=>s[V],set:nt=>s[V]=nt})})}else t.exposed||(t.exposed={});N&&t.render===Ee&&(t.render=N),Ut!=null&&(t.inheritAttrs=Ut),ds&&(t.components=ds),ps&&(t.directives=ps),fs&&Bn(t)}function sl(t,e,s=Ee){j(t)&&(t=Cr(t));for(const r in t){const i=t[r];let n;Q(i)?"default"in i?n=ks(i.from||r,i.default,!0):n=ks(i.from||r):n=ks(i),te(n)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):e[r]=n}}function Ei(t,e,s){Ie(j(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Vn(t,e,s,r){let i=r.includes(".")?no(s,r):()=>s[r];if(X(t)){const n=e[t];L(n)&&ur(i,n)}else if(L(t))ur(i,t.bind(s));else if(Q(t))if(j(t))t.forEach(n=>Vn(n,e,s,r));else{const n=L(t.handler)?t.handler.bind(s):e[t.handler];L(n)&&ur(i,n,t)}}function oi(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:i,optionsCache:n,config:{optionMergeStrategies:o}}=t.appContext,a=n.get(e);let l;return a?l=a:!i.length&&!s&&!r?l=e:(l={},i.length&&i.forEach(u=>Rs(l,u,o,!0)),Rs(l,e,o)),Q(e)&&n.set(e,l),l}function Rs(t,e,s,r=!1){const{mixins:i,extends:n}=e;n&&Rs(t,n,s,!0),i&&i.forEach(o=>Rs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=rl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rl={data:ki,props:xi,emits:xi,methods:qt,computed:qt,beforeCreate:oe,created:oe,beforeMount:oe,mounted:oe,beforeUpdate:oe,updated:oe,beforeDestroy:oe,beforeUnmount:oe,destroyed:oe,unmounted:oe,activated:oe,deactivated:oe,errorCaptured:oe,serverPrefetch:oe,components:qt,directives:qt,watch:nl,provide:ki,inject:il};function ki(t,e){return e?t?function(){return se(L(t)?t.call(this,this):t,L(e)?e.call(this,this):e)}:e:t}function il(t,e){return qt(Cr(t),Cr(e))}function Cr(t){if(j(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function oe(t,e){return t?[...new Set([].concat(t,e))]:e}function qt(t,e){return t?se(Object.create(null),t,e):e}function xi(t,e){return t?j(t)&&j(e)?[...new Set([...t,...e])]:se(Object.create(null),Ti(t),Ti(e??{})):e}function nl(t,e){if(!t)return e;if(!e)return t;const s=se(Object.create(null),t);for(const r in e)s[r]=oe(t[r],e[r]);return s}function Jn(){return{app:null,config:{isNativeTag:Ko,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ol=0;function al(t,e){return function(r,i=null){L(r)||(r=se({},r)),i!=null&&!Q(i)&&(i=null);const n=Jn(),o=new WeakSet,a=[];let l=!1;const u=n.app={_uid:ol++,_component:r,_props:i,_container:null,_context:n,_instance:null,version:Hl,get config(){return n.config},set config(c){},use(c,...f){return o.has(c)||(c&&L(c.install)?(o.add(c),c.install(u,...f)):L(c)&&(o.add(c),c(u,...f))),u},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),u},component(c,f){return f?(n.components[c]=f,u):n.components[c]},directive(c,f){return f?(n.directives[c]=f,u):n.directives[c]},mount(c,f,p){if(!l){const g=u._ceVNode||He(r,i);return g.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(g,c):t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Vs(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ie(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return n.provides[c]=f,u},runWithContext(c){const f=Ct;Ct=u;try{return c()}finally{Ct=f}}};return u}}let Ct=null;function ll(t,e){if(ue){let s=ue.provides;const r=ue.parent&&ue.parent.provides;r===s&&(s=ue.provides=Object.create(r)),s[t]=e}}function ks(t,e,s=!1){const r=ue||be;if(r||Ct){const i=Ct?Ct._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&L(e)?e.call(r&&r.proxy):e}}const Wn={},zn=()=>Object.create(Wn),Gn=t=>Object.getPrototypeOf(t)===Wn;function cl(t,e,s,r=!1){const i={},n=zn();t.propsDefaults=Object.create(null),Yn(t,e,i,n);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=r?i:Sa(i):t.type.props?t.props=i:t.props=n,t.attrs=n}function ul(t,e,s,r){const{props:i,attrs:n,vnode:{patchFlag:o}}=t,a=B(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];if(qs(t.emitsOptions,p))continue;const g=e[p];if(l)if(H(n,p))g!==n[p]&&(n[p]=g,u=!0);else{const E=Ze(p);i[E]=$r(l,a,E,g,t,!1)}else g!==n[p]&&(n[p]=g,u=!0)}}}else{Yn(t,e,i,n)&&(u=!0);let c;for(const f in a)(!e||!H(e,f)&&((c=_t(f))===f||!H(e,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(i[f]=$r(l,a,f,void 0,t,!0)):delete i[f]);if(n!==a)for(const f in n)(!e||!H(e,f))&&(delete n[f],u=!0)}u&&Fe(t.attrs,"set","")}function Yn(t,e,s,r){const[i,n]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Vt(l))continue;const u=e[l];let c;i&&H(i,c=Ze(l))?!n||!n.includes(c)?s[c]=u:(a||(a={}))[c]=u:qs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(n){const l=B(s),u=a||K;for(let c=0;c<n.length;c++){const f=n[c];s[f]=$r(i,l,f,u[f],t,!H(u,f))}}return o}function $r(t,e,s,r,i,n){const o=t[s];if(o!=null){const a=H(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&L(l)){const{propsDefaults:u}=i;if(s in u)r=u[s];else{const c=cs(i);r=u[s]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(s,r)}o[0]&&(n&&!a?r=!1:o[1]&&(r===""||r===_t(s))&&(r=!0))}return r}const hl=new WeakMap;function Qn(t,e,s=!1){const r=s?hl:e.propsCache,i=r.get(t);if(i)return i;const n=t.props,o={},a=[];let l=!1;if(!L(t)){const c=f=>{l=!0;const[p,g]=Qn(f,e,!0);se(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!n&&!l)return Q(t)&&r.set(t,Ot),Ot;if(j(n))for(let c=0;c<n.length;c++){const f=Ze(n[c]);Oi(f)&&(o[f]=K)}else if(n)for(const c in n){const f=Ze(c);if(Oi(f)){const p=n[c],g=o[f]=j(p)||L(p)?{type:p}:se({},p),E=g.type;let x=!1,C=!0;if(j(E))for(let R=0;R<E.length;++R){const F=E[R],M=L(F)&&F.name;if(M==="Boolean"){x=!0;break}else M==="String"&&(C=!1)}else x=L(E)&&E.name==="Boolean";g[0]=x,g[1]=C,(x||H(g,"default"))&&a.push(f)}}const u=[o,a];return Q(t)&&r.set(t,u),u}function Oi(t){return t[0]!=="$"&&!Vt(t)}const Xn=t=>t[0]==="_"||t==="$stable",ai=t=>j(t)?t.map(Re):[Re(t)],fl=(t,e,s)=>{if(e._n)return e;const r=Ma((...i)=>ai(e(...i)),s);return r._c=!1,r},Zn=(t,e,s)=>{const r=t._ctx;for(const i in t){if(Xn(i))continue;const n=t[i];if(L(n))e[i]=fl(i,n,r);else if(n!=null){const o=ai(n);e[i]=()=>o}}},eo=(t,e)=>{const s=ai(e);t.slots.default=()=>s},to=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},dl=(t,e,s)=>{const r=t.slots=zn();if(t.vnode.shapeFlag&32){const i=e._;i?(to(r,e,s),s&&gn(r,"_",i,!0)):Zn(e,r)}else e&&eo(t,e)},pl=(t,e,s)=>{const{vnode:r,slots:i}=t;let n=!0,o=K;if(r.shapeFlag&32){const a=e._;a?s&&a===1?n=!1:to(i,e,s):(n=!e.$stable,Zn(e,i)),o=e}else e&&(eo(t,e),o={default:1});if(n)for(const a in i)!Xn(a)&&o[a]==null&&delete i[a]},_e=Al;function gl(t){return _l(t)}function _l(t,e){const s=Fs();s.__VUE__=!0;const{insert:r,remove:i,patchProp:n,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:p,setScopeId:g=Ee,insertStaticContent:E}=t,x=(h,d,_,y=null,v=null,m=null,T=void 0,S=null,w=!!d.dynamicChildren)=>{if(h===d)return;h&&!Bt(h,d)&&(y=_s(h),Ae(h,v,m,!0),h=null),d.patchFlag===-2&&(w=!1,d.dynamicChildren=null);const{type:b,ref:P,shapeFlag:k}=d;switch(b){case Ks:C(h,d,_,y);break;case gt:R(h,d,_,y);break;case fr:h==null&&F(d,_,y,T);break;case Me:ds(h,d,_,y,v,m,T,S,w);break;default:k&1?N(h,d,_,y,v,m,T,S,w):k&6?ps(h,d,_,y,v,m,T,S,w):(k&64||k&128)&&b.process(h,d,_,y,v,m,T,S,w,mt)}P!=null&&v&&js(P,h&&h.ref,m,d||h,!d)},C=(h,d,_,y)=>{if(h==null)r(d.el=a(d.children),_,y);else{const v=d.el=h.el;d.children!==h.children&&u(v,d.children)}},R=(h,d,_,y)=>{h==null?r(d.el=l(d.children||""),_,y):d.el=h.el},F=(h,d,_,y)=>{[h.el,h.anchor]=E(h.children,d,_,y,h.el,h.anchor)},M=({el:h,anchor:d},_,y)=>{let v;for(;h&&h!==d;)v=p(h),r(h,_,y),h=v;r(d,_,y)},O=({el:h,anchor:d})=>{let _;for(;h&&h!==d;)_=p(h),i(h),h=_;i(d)},N=(h,d,_,y,v,m,T,S,w)=>{d.type==="svg"?T="svg":d.type==="math"&&(T="mathml"),h==null?Ke(d,_,y,v,m,T,S,w):fs(h,d,v,m,T,S,w)},Ke=(h,d,_,y,v,m,T,S)=>{let w,b;const{props:P,shapeFlag:k,transition:A,dirs:$}=h;if(w=h.el=o(h.type,m,P&&P.is,P),k&8?c(w,h.children):k&16&&Ve(h.children,w,null,y,v,cr(h,m),T,S),$&&at(h,null,y,"created"),Oe(w,h,h.scopeId,T,y),P){for(const J in P)J!=="value"&&!Vt(J)&&n(w,J,null,P[J],m,y);"value"in P&&n(w,"value",null,P.value,m),(b=P.onVnodeBeforeMount)&&Ce(b,y,h)}$&&at(h,null,y,"beforeMount");const U=vl(v,A);U&&A.beforeEnter(w),r(w,d,_),((b=P&&P.onVnodeMounted)||U||$)&&_e(()=>{b&&Ce(b,y,h),U&&A.enter(w),$&&at(h,null,y,"mounted")},v)},Oe=(h,d,_,y,v)=>{if(_&&g(h,_),y)for(let m=0;m<y.length;m++)g(h,y[m]);if(v){let m=v.subTree;if(d===m||ao(m.type)&&(m.ssContent===d||m.ssFallback===d)){const T=v.vnode;Oe(h,T,T.scopeId,T.slotScopeIds,v.parent)}}},Ve=(h,d,_,y,v,m,T,S,w=0)=>{for(let b=w;b<h.length;b++){const P=h[b]=S?Ge(h[b]):Re(h[b]);x(null,P,d,_,y,v,m,T,S)}},fs=(h,d,_,y,v,m,T)=>{const S=d.el=h.el;let{patchFlag:w,dynamicChildren:b,dirs:P}=d;w|=h.patchFlag&16;const k=h.props||K,A=d.props||K;let $;if(_&&lt(_,!1),($=A.onVnodeBeforeUpdate)&&Ce($,_,d,h),P&&at(d,h,_,"beforeUpdate"),_&&lt(_,!0),(k.innerHTML&&A.innerHTML==null||k.textContent&&A.textContent==null)&&c(S,""),b?it(h.dynamicChildren,b,S,_,y,cr(d,v),m):T||V(h,d,S,null,_,y,cr(d,v),m,!1),w>0){if(w&16)Ut(S,k,A,_,v);else if(w&2&&k.class!==A.class&&n(S,"class",null,A.class,v),w&4&&n(S,"style",k.style,A.style,v),w&8){const U=d.dynamicProps;for(let J=0;J<U.length;J++){const q=U[J],de=k[q],re=A[q];(re!==de||q==="value")&&n(S,q,de,re,v,_)}}w&1&&h.children!==d.children&&c(S,d.children)}else!T&&b==null&&Ut(S,k,A,_,v);(($=A.onVnodeUpdated)||P)&&_e(()=>{$&&Ce($,_,d,h),P&&at(d,h,_,"updated")},y)},it=(h,d,_,y,v,m,T)=>{for(let S=0;S<d.length;S++){const w=h[S],b=d[S],P=w.el&&(w.type===Me||!Bt(w,b)||w.shapeFlag&70)?f(w.el):_;x(w,b,P,null,y,v,m,T,!0)}},Ut=(h,d,_,y,v)=>{if(d!==_){if(d!==K)for(const m in d)!Vt(m)&&!(m in _)&&n(h,m,d[m],null,v,y);for(const m in _){if(Vt(m))continue;const T=_[m],S=d[m];T!==S&&m!=="value"&&n(h,m,S,T,v,y)}"value"in _&&n(h,"value",d.value,_.value,v)}},ds=(h,d,_,y,v,m,T,S,w)=>{const b=d.el=h?h.el:a(""),P=d.anchor=h?h.anchor:a("");let{patchFlag:k,dynamicChildren:A,slotScopeIds:$}=d;$&&(S=S?S.concat($):$),h==null?(r(b,_,y),r(P,_,y),Ve(d.children||[],_,P,v,m,T,S,w)):k>0&&k&64&&A&&h.dynamicChildren?(it(h.dynamicChildren,A,_,v,m,T,S),(d.key!=null||v&&d===v.subTree)&&so(h,d,!0)):V(h,d,_,P,v,m,T,S,w)},ps=(h,d,_,y,v,m,T,S,w)=>{d.slotScopeIds=S,h==null?d.shapeFlag&512?v.ctx.activate(d,_,y,T,w):Zs(d,_,y,v,m,T,w):pi(h,d,w)},Zs=(h,d,_,y,v,m,T)=>{const S=h.component=Ll(h,y,v);if(Hn(h)&&(S.ctx.renderer=mt),Dl(S,!1,T),S.asyncDep){if(v&&v.registerDep(S,ne,T),!h.el){const w=S.subTree=He(gt);R(null,w,d,_)}}else ne(S,h,d,_,v,m,T)},pi=(h,d,_)=>{const y=d.component=h.component;if(xl(h,d,_))if(y.asyncDep&&!y.asyncResolved){G(y,d,_);return}else y.next=d,y.update();else d.el=h.el,y.vnode=d},ne=(h,d,_,y,v,m,T)=>{const S=()=>{if(h.isMounted){let{next:k,bu:A,u:$,parent:U,vnode:J}=h;{const pe=ro(h);if(pe){k&&(k.el=J.el,G(h,k,T)),pe.asyncDep.then(()=>{h.isUnmounted||S()});return}}let q=k,de;lt(h,!1),k?(k.el=J.el,G(h,k,T)):k=J,A&&Es(A),(de=k.props&&k.props.onVnodeBeforeUpdate)&&Ce(de,U,k,J),lt(h,!0);const re=hr(h),Se=h.subTree;h.subTree=re,x(Se,re,f(Se.el),_s(Se),h,v,m),k.el=re.el,q===null&&Ol(h,re.el),$&&_e($,v),(de=k.props&&k.props.onVnodeUpdated)&&_e(()=>Ce(de,U,k,J),v)}else{let k;const{el:A,props:$}=d,{bm:U,m:J,parent:q,root:de,type:re}=h,Se=Gt(d);if(lt(h,!1),U&&Es(U),!Se&&(k=$&&$.onVnodeBeforeMount)&&Ce(k,q,d),lt(h,!0),A&&sr){const pe=()=>{h.subTree=hr(h),sr(A,h.subTree,h,v,null)};Se&&re.__asyncHydrate?re.__asyncHydrate(A,h,pe):pe()}else{de.ce&&de.ce._injectChildStyle(re);const pe=h.subTree=hr(h);x(null,pe,_,y,h,v,m),d.el=pe.el}if(J&&_e(J,v),!Se&&(k=$&&$.onVnodeMounted)){const pe=d;_e(()=>Ce(k,q,pe),v)}(d.shapeFlag&256||q&&Gt(q.vnode)&&q.vnode.shapeFlag&256)&&h.a&&_e(h.a,v),h.isMounted=!0,d=_=y=null}};h.scope.on();const w=h.effect=new yn(S);h.scope.off();const b=h.update=w.run.bind(w),P=h.job=w.runIfDirty.bind(w);P.i=h,P.id=h.uid,w.scheduler=()=>ri(P),lt(h,!0),b()},G=(h,d,_)=>{d.component=h;const y=h.vnode.props;h.vnode=d,h.next=null,ul(h,d.props,y,_),pl(h,d.children,_),tt(),Si(h),st()},V=(h,d,_,y,v,m,T,S,w=!1)=>{const b=h&&h.children,P=h?h.shapeFlag:0,k=d.children,{patchFlag:A,shapeFlag:$}=d;if(A>0){if(A&128){gs(b,k,_,y,v,m,T,S,w);return}else if(A&256){nt(b,k,_,y,v,m,T,S,w);return}}$&8?(P&16&&Mt(b,v,m),k!==b&&c(_,k)):P&16?$&16?gs(b,k,_,y,v,m,T,S,w):Mt(b,v,m,!0):(P&8&&c(_,""),$&16&&Ve(k,_,y,v,m,T,S,w))},nt=(h,d,_,y,v,m,T,S,w)=>{h=h||Ot,d=d||Ot;const b=h.length,P=d.length,k=Math.min(b,P);let A;for(A=0;A<k;A++){const $=d[A]=w?Ge(d[A]):Re(d[A]);x(h[A],$,_,null,v,m,T,S,w)}b>P?Mt(h,v,m,!0,!1,k):Ve(d,_,y,v,m,T,S,w,k)},gs=(h,d,_,y,v,m,T,S,w)=>{let b=0;const P=d.length;let k=h.length-1,A=P-1;for(;b<=k&&b<=A;){const $=h[b],U=d[b]=w?Ge(d[b]):Re(d[b]);if(Bt($,U))x($,U,_,null,v,m,T,S,w);else break;b++}for(;b<=k&&b<=A;){const $=h[k],U=d[A]=w?Ge(d[A]):Re(d[A]);if(Bt($,U))x($,U,_,null,v,m,T,S,w);else break;k--,A--}if(b>k){if(b<=A){const $=A+1,U=$<P?d[$].el:y;for(;b<=A;)x(null,d[b]=w?Ge(d[b]):Re(d[b]),_,U,v,m,T,S,w),b++}}else if(b>A)for(;b<=k;)Ae(h[b],v,m,!0),b++;else{const $=b,U=b,J=new Map;for(b=U;b<=A;b++){const ge=d[b]=w?Ge(d[b]):Re(d[b]);ge.key!=null&&J.set(ge.key,b)}let q,de=0;const re=A-U+1;let Se=!1,pe=0;const Ft=new Array(re);for(b=0;b<re;b++)Ft[b]=0;for(b=$;b<=k;b++){const ge=h[b];if(de>=re){Ae(ge,v,m,!0);continue}let Pe;if(ge.key!=null)Pe=J.get(ge.key);else for(q=U;q<=A;q++)if(Ft[q-U]===0&&Bt(ge,d[q])){Pe=q;break}Pe===void 0?Ae(ge,v,m,!0):(Ft[Pe-U]=b+1,Pe>=pe?pe=Pe:Se=!0,x(ge,d[Pe],_,null,v,m,T,S,w),de++)}const vi=Se?ml(Ft):Ot;for(q=vi.length-1,b=re-1;b>=0;b--){const ge=U+b,Pe=d[ge],mi=ge+1<P?d[ge+1].el:y;Ft[b]===0?x(null,Pe,_,mi,v,m,T,S,w):Se&&(q<0||b!==vi[q]?ot(Pe,_,mi,2):q--)}}},ot=(h,d,_,y,v=null)=>{const{el:m,type:T,transition:S,children:w,shapeFlag:b}=h;if(b&6){ot(h.component.subTree,d,_,y);return}if(b&128){h.suspense.move(d,_,y);return}if(b&64){T.move(h,d,_,mt);return}if(T===Me){r(m,d,_);for(let k=0;k<w.length;k++)ot(w[k],d,_,y);r(h.anchor,d,_);return}if(T===fr){M(h,d,_);return}if(y!==2&&b&1&&S)if(y===0)S.beforeEnter(m),r(m,d,_),_e(()=>S.enter(m),v);else{const{leave:k,delayLeave:A,afterLeave:$}=S,U=()=>r(m,d,_),J=()=>{k(m,()=>{U(),$&&$()})};A?A(m,U,J):J()}else r(m,d,_)},Ae=(h,d,_,y=!1,v=!1)=>{const{type:m,props:T,ref:S,children:w,dynamicChildren:b,shapeFlag:P,patchFlag:k,dirs:A,cacheIndex:$}=h;if(k===-2&&(v=!1),S!=null&&js(S,null,_,h,!0),$!=null&&(d.renderCache[$]=void 0),P&256){d.ctx.deactivate(h);return}const U=P&1&&A,J=!Gt(h);let q;if(J&&(q=T&&T.onVnodeBeforeUnmount)&&Ce(q,d,h),P&6)qo(h.component,_,y);else{if(P&128){h.suspense.unmount(_,y);return}U&&at(h,null,d,"beforeUnmount"),P&64?h.type.remove(h,d,_,mt,y):b&&!b.hasOnce&&(m!==Me||k>0&&k&64)?Mt(b,d,_,!1,!0):(m===Me&&k&384||!v&&P&16)&&Mt(w,d,_),y&&gi(h)}(J&&(q=T&&T.onVnodeUnmounted)||U)&&_e(()=>{q&&Ce(q,d,h),U&&at(h,null,d,"unmounted")},_)},gi=h=>{const{type:d,el:_,anchor:y,transition:v}=h;if(d===Me){Ho(_,y);return}if(d===fr){O(h);return}const m=()=>{i(_),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(h.shapeFlag&1&&v&&!v.persisted){const{leave:T,delayLeave:S}=v,w=()=>T(_,m);S?S(h.el,m,w):w()}else m()},Ho=(h,d)=>{let _;for(;h!==d;)_=p(h),i(h),h=_;i(d)},qo=(h,d,_)=>{const{bum:y,scope:v,job:m,subTree:T,um:S,m:w,a:b}=h;Ai(w),Ai(b),y&&Es(y),v.stop(),m&&(m.flags|=8,Ae(T,h,d,_)),S&&_e(S,d),_e(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Mt=(h,d,_,y=!1,v=!1,m=0)=>{for(let T=m;T<h.length;T++)Ae(h[T],d,_,y,v)},_s=h=>{if(h.shapeFlag&6)return _s(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const d=p(h.anchor||h.el),_=d&&d[Na];return _?p(_):d};let er=!1;const _i=(h,d,_)=>{h==null?d._vnode&&Ae(d._vnode,null,null,!0):x(d._vnode||null,h,d,null,null,null,_),d._vnode=h,er||(er=!0,Si(),Mn(),er=!1)},mt={p:x,um:Ae,m:ot,r:gi,mt:Zs,mc:Ve,pc:V,pbc:it,n:_s,o:t};let tr,sr;return e&&([tr,sr]=e(mt)),{render:_i,hydrate:tr,createApp:al(_i,tr)}}function cr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function lt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function vl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function so(t,e,s=!1){const r=t.children,i=e.children;if(j(r)&&j(i))for(let n=0;n<r.length;n++){const o=r[n];let a=i[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[n]=Ge(i[n]),a.el=o.el),!s&&a.patchFlag!==-2&&so(o,a)),a.type===Ks&&(a.el=o.el)}}function ml(t){const e=t.slice(),s=[0];let r,i,n,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=s[s.length-1],t[i]<u){e[r]=i,s.push(r);continue}for(n=0,o=s.length-1;n<o;)a=n+o>>1,t[s[a]]<u?n=a+1:o=a;u<t[s[n]]&&(n>0&&(e[r]=s[n-1]),s[n]=r)}}for(n=s.length,o=s[n-1];n-- >0;)s[n]=o,o=e[o];return s}function ro(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ro(e)}function Ai(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const yl=Symbol.for("v-scx"),bl=()=>ks(yl);function ur(t,e,s){return io(t,e,s)}function io(t,e,s=K){const{immediate:r,deep:i,flush:n,once:o}=s,a=se({},s),l=e&&r||!e&&n!=="post";let u;if(ns){if(n==="sync"){const g=bl();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ee,g.resume=Ee,g.pause=Ee,g}}const c=ue;a.call=(g,E,x)=>Ie(g,c,E,x);let f=!1;n==="post"?a.scheduler=g=>{_e(g,c&&c.suspense)}:n!=="sync"&&(f=!0,a.scheduler=(g,E)=>{E?g():ri(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=Ra(t,e,a);return ns&&(u?u.push(p):l&&p()),p}function wl(t,e,s){const r=this.proxy,i=X(t)?t.includes(".")?no(r,t):()=>r[t]:t.bind(r,r);let n;L(e)?n=e:(n=e.handler,s=e);const o=cs(this),a=io(i,n.bind(r),s);return o(),a}function no(t,e){const s=e.split(".");return()=>{let r=t;for(let i=0;i<s.length&&r;i++)r=r[s[i]];return r}}const Sl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ze(e)}Modifiers`]||t[`${_t(e)}Modifiers`];function Tl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||K;let i=s;const n=e.startsWith("update:"),o=n&&Sl(r,e.slice(7));o&&(o.trim&&(i=s.map(c=>X(c)?c.trim():c)),o.number&&(i=s.map(Sr)));let a,l=r[a=rr(e)]||r[a=rr(Ze(e))];!l&&n&&(l=r[a=rr(_t(e))]),l&&Ie(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ie(u,t,6,i)}}function oo(t,e,s=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const n=t.emits;let o={},a=!1;if(!L(t)){const l=u=>{const c=oo(u,e,!0);c&&(a=!0,se(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!n&&!a?(Q(t)&&r.set(t,null),null):(j(n)?n.forEach(l=>o[l]=null):se(o,n),Q(t)&&r.set(t,o),o)}function qs(t,e){return!t||!Ds(e)?!1:(e=e.slice(2).replace(/Once$/,""),H(t,e[0].toLowerCase()+e.slice(1))||H(t,_t(e))||H(t,e))}function hr(t){const{type:e,vnode:s,proxy:r,withProxy:i,propsOptions:[n],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:p,setupState:g,ctx:E,inheritAttrs:x}=t,C=$s(t);let R,F;try{if(s.shapeFlag&4){const O=i||r,N=O;R=Re(u.call(N,O,c,f,g,p,E)),F=a}else{const O=e;R=Re(O.length>1?O(f,{attrs:a,slots:o,emit:l}):O(f,null)),F=e.props?a:El(a)}}catch(O){Qt.length=0,Bs(O,t,1),R=He(gt)}let M=R;if(F&&x!==!1){const O=Object.keys(F),{shapeFlag:N}=M;O.length&&N&7&&(n&&O.some(Kr)&&(F=kl(F,n)),M=jt(M,F,!1,!0))}return s.dirs&&(M=jt(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(s.dirs):s.dirs),s.transition&&ii(M,s.transition),R=M,$s(C),R}const El=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ds(s))&&((e||(e={}))[s]=t[s]);return e},kl=(t,e)=>{const s={};for(const r in t)(!Kr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function xl(t,e,s){const{props:r,children:i,component:n}=t,{props:o,children:a,patchFlag:l}=e,u=n.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Pi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(o[p]!==r[p]&&!qs(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Pi(r,o,u):!0:!!o;return!1}function Pi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const n=r[i];if(e[n]!==t[n]&&!qs(s,n))return!0}return!1}function Ol({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const ao=t=>t.__isSuspense;function Al(t,e){e&&e.pendingBranch?j(t)?e.effects.push(...t):e.effects.push(t):Ua(t)}const Me=Symbol.for("v-fgt"),Ks=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),fr=Symbol.for("v-stc"),Qt=[];let ye=null;function ee(t=!1){Qt.push(ye=t?null:[])}function Pl(){Qt.pop(),ye=Qt[Qt.length-1]||null}let is=1;function Ci(t,e=!1){is+=t,t<0&&ye&&e&&(ye.hasOnce=!0)}function lo(t){return t.dynamicChildren=is>0?ye||Ot:null,Pl(),is>0&&ye&&ye.push(t),t}function ae(t,e,s,r,i,n){return lo(Y(t,e,s,r,i,n,!0))}function jr(t,e,s,r,i){return lo(He(t,e,s,r,i,!0))}function co(t){return t?t.__v_isVNode===!0:!1}function Bt(t,e){return t.type===e.type&&t.key===e.key}const uo=({key:t})=>t??null,xs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?X(t)||te(t)||L(t)?{i:be,r:t,k:e,f:!!s}:t:null);function Y(t,e=null,s=null,r=0,i=null,n=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&uo(e),ref:e&&xs(e),scopeId:Nn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:be};return a?(li(l,s),n&128&&t.normalize(l)):s&&(l.shapeFlag|=X(s)?8:16),is>0&&!o&&ye&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&ye.push(l),l}const He=Cl;function Cl(t,e=null,s=null,r=0,i=null,n=!1){if((!t||t===Za)&&(t=gt),co(t)){const a=jt(t,e,!0);return s&&li(a,s),is>0&&!n&&ye&&(a.shapeFlag&6?ye[ye.indexOf(t)]=a:ye.push(a)),a.patchFlag=-2,a}if(Nl(t)&&(t=t.__vccOpts),e){e=$l(e);let{class:a,style:l}=e;a&&!X(a)&&(e.class=Ns(a)),Q(l)&&(si(l)&&!j(l)&&(l=se({},l)),e.style=Wr(l))}const o=X(t)?1:ao(t)?128:Ba(t)?64:Q(t)?4:L(t)?2:0;return Y(t,e,s,r,i,o,n,!0)}function $l(t){return t?si(t)||Gn(t)?se({},t):t:null}function jt(t,e,s=!1,r=!1){const{props:i,ref:n,patchFlag:o,children:a,transition:l}=t,u=e?jl(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&uo(u),ref:e&&e.ref?s&&n?j(n)?n.concat(xs(e)):[n,xs(e)]:xs(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jt(t.ssContent),ssFallback:t.ssFallback&&jt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ii(c,l.clone(c)),c}function ho(t=" ",e=0){return He(Ks,null,t,e)}function xt(t="",e=!1){return e?(ee(),jr(gt,null,t)):He(gt,null,t)}function Re(t){return t==null||typeof t=="boolean"?He(gt):j(t)?He(Me,null,t.slice()):co(t)?Ge(t):He(Ks,null,String(t))}function Ge(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jt(t)}function li(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(j(e))s=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),li(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!Gn(e)?e._ctx=be:i===3&&be&&(be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else L(e)?(e={default:e,_ctx:be},s=32):(e=String(e),r&64?(s=16,e=[ho(e)]):s=8);t.children=e,t.shapeFlag|=s}function jl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ns([e.class,r.class]));else if(i==="style")e.style=Wr([e.style,r.style]);else if(Ds(i)){const n=e[i],o=r[i];o&&n!==o&&!(j(n)&&n.includes(o))&&(e[i]=n?[].concat(n,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ce(t,e,s,r=null){Ie(t,e,7,[s,r])}const Rl=Jn();let Il=0;function Ll(t,e,s){const r=t.type,i=(e?e.appContext:t.appContext)||Rl,n={uid:Il++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ta(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qn(r,i),emitsOptions:oo(r,i),emit:null,emitted:null,propsDefaults:K,inheritAttrs:r.inheritAttrs,ctx:K,data:K,props:K,attrs:K,slots:K,refs:K,setupState:K,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=Tl.bind(null,n),t.ce&&t.ce(n),n}let ue=null,Is,Rr;{const t=Fs(),e=(s,r)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(r),n=>{i.length>1?i.forEach(o=>o(n)):i[0](n)}};Is=e("__VUE_INSTANCE_SETTERS__",s=>ue=s),Rr=e("__VUE_SSR_SETTERS__",s=>ns=s)}const cs=t=>{const e=ue;return Is(t),t.scope.on(),()=>{t.scope.off(),Is(e)}},$i=()=>{ue&&ue.scope.off(),Is(null)};function fo(t){return t.vnode.shapeFlag&4}let ns=!1;function Dl(t,e=!1,s=!1){e&&Rr(e);const{props:r,children:i}=t.vnode,n=fo(t);cl(t,r,n,e),dl(t,i,s);const o=n?Ul(t,e):void 0;return e&&Rr(!1),o}function Ul(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,el);const{setup:r}=s;if(r){tt();const i=t.setupContext=r.length>1?Fl(t):null,n=cs(t),o=ls(r,t,0,[t.props,i]),a=hn(o);if(st(),n(),(a||t.sp)&&!Gt(t)&&Bn(t),a){if(o.then($i,$i),e)return o.then(l=>{ji(t,l,e)}).catch(l=>{Bs(l,t,0)});t.asyncDep=o}else ji(t,o,e)}else po(t,e)}function ji(t,e,s){L(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Q(e)&&(t.setupState=Ln(e)),po(t,s)}let Ri;function po(t,e,s){const r=t.type;if(!t.render){if(!e&&Ri&&!r.render){const i=r.template||oi(t).template;if(i){const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=se(se({isCustomElement:n,delimiters:a},o),l);r.render=Ri(i,u)}}t.render=r.render||Ee}{const i=cs(t);tt();try{tl(t)}finally{st(),i()}}}const Ml={get(t,e){return ie(t,"get",""),t[e]}};function Fl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Ml),slots:t.slots,emit:t.emit,expose:e}}function Vs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ln(Ta(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Yt)return Yt[s](t)},has(e,s){return s in e||s in Yt}})):t.proxy}function Nl(t){return L(t)&&"__vccOpts"in t}const Bl=(t,e)=>$a(t,e,ns),Hl="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ir;const Ii=typeof window<"u"&&window.trustedTypes;if(Ii)try{Ir=Ii.createPolicy("vue",{createHTML:t=>t})}catch{}const go=Ir?t=>Ir.createHTML(t):t=>t,ql="http://www.w3.org/2000/svg",Kl="http://www.w3.org/1998/Math/MathML",De=typeof document<"u"?document:null,Li=De&&De.createElement("template"),Vl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const i=e==="svg"?De.createElementNS(ql,t):e==="mathml"?De.createElementNS(Kl,t):s?De.createElement(t,{is:s}):De.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>De.createTextNode(t),createComment:t=>De.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>De.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,i,n){const o=s?s.previousSibling:e.lastChild;if(i&&(i===n||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===n||!(i=i.nextSibling)););else{Li.innerHTML=go(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Li.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Jl=Symbol("_vtc");function Wl(t,e,s){const r=t[Jl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Di=Symbol("_vod"),zl=Symbol("_vsh"),Gl=Symbol(""),Yl=/(^|;)\s*display\s*:/;function Ql(t,e,s){const r=t.style,i=X(s);let n=!1;if(s&&!i){if(e)if(X(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Os(r,a,"")}else for(const o in e)s[o]==null&&Os(r,o,"");for(const o in s)o==="display"&&(n=!0),Os(r,o,s[o])}else if(i){if(e!==s){const o=r[Gl];o&&(s+=";"+o),r.cssText=s,n=Yl.test(s)}}else e&&t.removeAttribute("style");Di in t&&(t[Di]=n?r.display:"",t[zl]&&(r.display="none"))}const Ui=/\s*!important$/;function Os(t,e,s){if(j(s))s.forEach(r=>Os(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Xl(t,e);Ui.test(s)?t.setProperty(_t(r),s.replace(Ui,""),"important"):t[r]=s}}const Mi=["Webkit","Moz","ms"],dr={};function Xl(t,e){const s=dr[e];if(s)return s;let r=Ze(e);if(r!=="filter"&&r in t)return dr[e]=r;r=pn(r);for(let i=0;i<Mi.length;i++){const n=Mi[i]+r;if(n in t)return dr[e]=n}return e}const Fi="http://www.w3.org/1999/xlink";function Ni(t,e,s,r,i,n=ea(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Fi,e.slice(6,e.length)):t.setAttributeNS(Fi,e,s):s==null||n&&!_n(s)?t.removeAttribute(e):t.setAttribute(e,n?"":et(s)?String(s):s)}function Bi(t,e,s,r,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?go(s):s);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=_n(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function Et(t,e,s,r){t.addEventListener(e,s,r)}function Zl(t,e,s,r){t.removeEventListener(e,s,r)}const Hi=Symbol("_vei");function ec(t,e,s,r,i=null){const n=t[Hi]||(t[Hi]={}),o=n[e];if(r&&o)o.value=r;else{const[a,l]=tc(e);if(r){const u=n[e]=ic(r,i);Et(t,a,u,l)}else o&&(Zl(t,a,o,l),n[e]=void 0)}}const qi=/(?:Once|Passive|Capture)$/;function tc(t){let e;if(qi.test(t)){e={};let r;for(;r=t.match(qi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_t(t.slice(2)),e]}let pr=0;const sc=Promise.resolve(),rc=()=>pr||(sc.then(()=>pr=0),pr=Date.now());function ic(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ie(nc(r,s.value),e,5,[r])};return s.value=t,s.attached=rc(),s}function nc(t,e){if(j(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Ki=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,oc=(t,e,s,r,i,n)=>{const o=i==="svg";e==="class"?Wl(t,r,o):e==="style"?Ql(t,s,r):Ds(e)?Kr(e)||ec(t,e,s,r,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ac(t,e,r,o))?(Bi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ni(t,e,r,o,n,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!X(r))?Bi(t,Ze(e),r,n,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ni(t,e,r,o))};function ac(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ki(e)&&L(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ki(e)&&X(s)?!1:e in t}const Vi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return j(e)?s=>Es(e,s):e};function lc(t){t.target.composing=!0}function Ji(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gr=Symbol("_assign"),cc={created(t,{modifiers:{lazy:e,trim:s,number:r}},i){t[gr]=Vi(i);const n=r||i.props&&i.props.type==="number";Et(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),n&&(a=Sr(a)),t[gr](a)}),s&&Et(t,"change",()=>{t.value=t.value.trim()}),e||(Et(t,"compositionstart",lc),Et(t,"compositionend",Ji),Et(t,"change",Ji))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:i,number:n}},o){if(t[gr]=Vi(o),t.composing)return;const a=(n||t.type==="number")&&!/^0\d/.test(t.value)?Sr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||i&&t.value.trim()===l)||(t.value=l))}},uc=["ctrl","shift","alt","meta"],hc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>uc.some(s=>t[`${s}Key`]&&!e.includes(s))},fc=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(i,...n)=>{for(let o=0;o<e.length;o++){const a=hc[e[o]];if(a&&a(i,e))return}return t(i,...n)})},dc=se({patchProp:oc},Vl);let Wi;function pc(){return Wi||(Wi=gl(dc))}const gc=(...t)=>{const e=pc().createApp(...t),{mount:s}=e;return e.mount=r=>{const i=vc(r);if(!i)return;const n=e._component;!L(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,_c(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function _c(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function vc(t){return X(t)?document.querySelector(t):t}const _o="/robot.png",mc="modulepreload",yc=function(t){return"/"+t},zi={},Rt=function(e,s,r){if(!s||s.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(s.map(n=>{if(n=yc(n),n in zi)return;zi[n]=!0;const o=n.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===n&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":mc,o||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e()).catch(n=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n})},bc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Rt(()=>Promise.resolve().then(()=>Lt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class ci extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class wc extends ci{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Sc extends ci{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tc extends ci{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lr||(Lr={}));var Ec=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class kc{constructor(e,{headers:s={},customFetch:r,region:i=Lr.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=bc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Ec(this,void 0,void 0,function*(){try{const{headers:i,method:n,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(E=>{throw new wc(E)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Sc(c);if(!c.ok)throw new Tc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}}var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),s}var fe={},ui={},Js={},us={},Ws={},zs={},Oc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},It=Oc();const Ac=It.fetch,vo=It.fetch.bind(It),mo=It.Headers,Pc=It.Request,Cc=It.Response,Lt=Object.freeze(Object.defineProperty({__proto__:null,Headers:mo,Request:Pc,Response:Cc,default:vo,fetch:Ac},Symbol.toStringTag,{value:"Module"})),$c=xc(Lt);var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});let jc=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Gs.default=jc;var yo=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});const Rc=yo($c),Ic=yo(Gs);let Lc=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Rc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var o,a,l;let u=null,c=null,f=null,p=n.status,g=n.statusText;if(n.ok){if(this.method!=="HEAD"){const R=await n.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=R:c=JSON.parse(R))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=n.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&C&&C.length>1&&(f=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const x=await n.text();try{u=JSON.parse(x),Array.isArray(u)&&n.status===404&&(c=[],u=null,p=200,g="OK")}catch{n.status===404&&x===""?(p=204,g="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new Ic.default(u)}return{error:u,data:c,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(i=i.catch(n=>{var o,a,l;return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(a=n==null?void 0:n.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=n==null?void 0:n.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};zs.default=Lc;var Dc=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ws,"__esModule",{value:!0});const Uc=Dc(zs);let Mc=class extends Uc.default{select(e){let s=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const o=n?`${n}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ws.default=Mc;var Fc=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});const Nc=Fc(Ws);let Bc=class extends Nc.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};us.default=Bc;var Hc=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const Ht=Hc(us);let qc=class{constructor(e,{headers:s={},schema:r,fetch:i}){this.url=e,this.headers=s,this.schema=r,this.fetch=i}select(e,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let n=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ht.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const i="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ht.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ht.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Ht.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ht.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Js.default=qc;var Ys={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.version=void 0;Qs.version="0.0.0-automated";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.DEFAULT_HEADERS=void 0;const Kc=Qs;Ys.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Kc.version}`};var bo=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});const Vc=bo(Js),Jc=bo(us),Wc=Ys;let zc=class wo{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Wc.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new Vc.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:n}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=s);const u=Object.assign({},this.headers);return n&&(u.Prefer=`count=${n}`),new Jc.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ui.default=zc;var Dt=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fe,"__esModule",{value:!0});fe.PostgrestError=fe.PostgrestBuilder=fe.PostgrestTransformBuilder=fe.PostgrestFilterBuilder=fe.PostgrestQueryBuilder=fe.PostgrestClient=void 0;const So=Dt(ui);fe.PostgrestClient=So.default;const To=Dt(Js);fe.PostgrestQueryBuilder=To.default;const Eo=Dt(us);fe.PostgrestFilterBuilder=Eo.default;const ko=Dt(Ws);fe.PostgrestTransformBuilder=ko.default;const xo=Dt(zs);fe.PostgrestBuilder=xo.default;const Oo=Dt(Gs);fe.PostgrestError=Oo.default;var Gc=fe.default={PostgrestClient:So.default,PostgrestQueryBuilder:To.default,PostgrestFilterBuilder:Eo.default,PostgrestTransformBuilder:ko.default,PostgrestBuilder:xo.default,PostgrestError:Oo.default};const{PostgrestClient:Yc,PostgrestQueryBuilder:pf,PostgrestFilterBuilder:gf,PostgrestTransformBuilder:_f,PostgrestBuilder:vf,PostgrestError:mf}=Gc,Qc="2.11.2",Xc={"X-Client-Info":`realtime-js/${Qc}`},Zc="1.0.0",Ao=1e4,eu=1e3;var $t;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($t||($t={}));var ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ve||(ve={}));var Te;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Te||(Te={}));var Dr;(function(t){t.websocket="websocket"})(Dr||(Dr={}));var ft;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ft||(ft={}));class tu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const i=s.getUint8(1),n=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+n));o=o+n;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Po{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Gi=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((n,o)=>(n[o]=su(o,t,e,i),n),{})},su=(t,e,s,r)=>{const i=e.find(a=>a.name===t),n=i==null?void 0:i.type,o=s[t];return n&&!r.includes(n)?Co(n,o):Ur(o)},Co=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return ou(e,s)}switch(t){case W.bool:return ru(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return iu(e);case W.json:case W.jsonb:return nu(e);case W.timestamp:return au(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Ur(e);default:return Ur(e)}},Ur=t=>t,ru=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ou=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let n;const o=t.slice(1,s);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>Co(e,a))}return t},au=t=>typeof t=="string"?t.replace(" ","T"):t,$o=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class _r{constructor(e,s,r={},i=Ao){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Yi||(Yi={}));class Xt{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xt.syncState(this.state,i,n,o),this.pendingDiffs.forEach(l=>{this.state=Xt.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xt.syncDiff(this.state,i,n,o),a())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const n=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(n,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=n[u];if(f){const p=c.map(C=>C.presence_ref),g=f.map(C=>C.presence_ref),E=c.filter(C=>g.indexOf(C.presence_ref)<0),x=f.filter(C=>p.indexOf(C.presence_ref)<0);E.length>0&&(a[u]=E),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(n,{joins:a,leaves:l},r,i)}static syncDiff(e,s,r,i){const{joins:n,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(g=>g.presence_ref),p=c.filter(g=>f.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qi||(Qi={}));var Xi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xi||(Xi={}));var Ue;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ue||(Ue={}));class hi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new _r(this,Te.join,this.params,this.timeout),this.rejoinTimer=new Po(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Te.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new Xt(this),this.broadcastEndpointURL=$o(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ue.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ue.CLOSED));const l={},u={broadcast:n,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){e==null||e(Ue.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,E=[];for(let x=0;x<g;x++){const C=p[x],{filter:{event:R,schema:F,table:M,filter:O}}=C,N=c&&c[x];if(N&&N.event===R&&N.schema===F&&N.table===M&&N.filter===O)E.push(Object.assign(Object.assign({},C),{id:N.id}));else{this.unsubscribe(),e==null||e(Ue.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Ue.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Ue.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ue.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:n,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),u.receive("ok",()=>n("ok")),u.receive("error",()=>n("error")),u.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ve.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Te.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new _r(this,Te.leave,{},e);i.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(n),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _r(this,e,s,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Te;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var E,x,C;return((E=g.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(x=g.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(n=this.bindings[o])===null||n===void 0||n.filter(g=>{var E,x,C,R,F,M;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const O=g.id,N=(E=g.filter)===null||E===void 0?void 0:E.event;return O&&((x=s.ids)===null||x===void 0?void 0:x.includes(O))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(F=(R=g==null?void 0:g.filter)===null||R===void 0?void 0:R.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return O==="*"||O===((M=s==null?void 0:s.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const E=p.data,{schema:x,table:C,commit_timestamp:R,type:F,errors:M}=E;p=Object.assign(Object.assign({},{schema:x,table:C,commit_timestamp:R,eventType:F,new:{},old:{},errors:M}),this._getPayloadRecords(E))}g.callback(p,r)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),n={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&hi.isEqual(i.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Te.close,{},e)}_onError(e){this._on(Te.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Gi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Gi(e.columns,e.old_record)),s}}const lu=()=>{},cu=typeof WebSocket<"u",uu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hu{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Xc,this.params={},this.timeout=Ao,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=lu,this.conn=null,this.sendBuffer=[],this.serializer=new tu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...a)=>Rt(()=>Promise.resolve().then(()=>Lt),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Dr.websocket}`,this.httpEndpoint=$o(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(n,o)=>o(JSON.stringify(n)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Po(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(cu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new fu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Rt(()=>import("./browser-6791f524.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $t.connecting:return ft.Connecting;case $t.open:return ft.Open;case $t.closing:return ft.Closing;default:return ft.Closed}}isConnected(){return this.connectionState()===ft.Open}channel(e,s={config:{}}){const r=new hi(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:i,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(Te.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(eu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:i,payload:n,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,n),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,n,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Te.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([uu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class fu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=$t.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class fi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Z(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class du extends fi{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mr extends fi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var pu=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const jo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Rt(()=>Promise.resolve().then(()=>Lt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},gu=()=>pu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rt(()=>Promise.resolve().then(()=>Lt),void 0)).Response:Response}),Fr=t=>{if(Array.isArray(t))return t.map(s=>Fr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=Fr(r)}),e};var vt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const vr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_u=(t,e,s)=>vt(void 0,void 0,void 0,function*(){const r=yield gu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{e(new du(vr(i),t.status||500))}).catch(i=>{e(new Mr(vr(i),i))}):e(new Mr(vr(t),t))}),vu=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),s))};function hs(t,e,s,r,i,n){return vt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,vu(e,r,i,n)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>_u(l,a,r))})})}function Ls(t,e,s,r){return vt(this,void 0,void 0,function*(){return hs(t,"GET",e,s,r)})}function Ye(t,e,s,r,i){return vt(this,void 0,void 0,function*(){return hs(t,"POST",e,r,i,s)})}function mu(t,e,s,r,i){return vt(this,void 0,void 0,function*(){return hs(t,"PUT",e,r,i,s)})}function yu(t,e,s,r){return vt(this,void 0,void 0,function*(){return hs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ro(t,e,s,r,i){return vt(this,void 0,void 0,function*(){return hs(t,"DELETE",e,r,i,s)})}var he=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const bu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wu{constructor(e,s={},r,i){this.url=e,this.headers=s,this.bucketId=r,this.fetch=jo(i)}uploadOrUpdate(e,s,r,i){return he(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},Zi),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l)),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l))):(n=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:n,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}upload(e,s,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,i){return he(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Zi.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield f.json();return f.ok?{data:{path:n,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Z(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return he(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const n=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+n.url),a=o.searchParams.get("token");if(!a)throw new fi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}update(e,s,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return he(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}copy(e,s,r){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,r){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),n=yield Ye(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,r){return he(this,void 0,void 0,function*(){try{const i=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}download(e,s){return he(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=n?`?${n}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ls(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}})}info(e){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ls(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Fr(r),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}exists(e){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield yu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Z(r)&&r instanceof Mr){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),i=[],n=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";n!==""&&i.push(n);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}list(e,s,r){return he(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},bu),s),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Su="2.7.1",Tu={"X-Client-Info":`storage-js/${Su}`};var bt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Eu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Tu),s),this.fetch=jo(r)}listBuckets(){return bt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return bt(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return bt(this,void 0,void 0,function*(){try{return{data:yield mu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}emptyBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}}class ku extends Eu{constructor(e,s={},r){super(e,s,r)}from(e){return new wu(this.url,this.headers,e,this.fetch)}}const xu="2.49.4";let Kt="";typeof Deno<"u"?Kt="deno":typeof document<"u"?Kt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kt="react-native":Kt="node";const Ou={"X-Client-Info":`supabase-js-${Kt}/${xu}`},Au={headers:Ou},Pu={schema:"public"},Cu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$u={};var ju=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ru=t=>{let e;return t?e=t:typeof fetch>"u"?e=vo:e=fetch,(...s)=>e(...s)},Iu=()=>typeof Headers>"u"?mo:Headers,Lu=(t,e,s)=>{const r=Ru(s),i=Iu();return(n,o)=>ju(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(n,Object.assign(Object.assign({},o),{headers:u}))})};var Du=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Uu(t){return t.replace(/\/$/,"")}function Mu(t,e){const{db:s,auth:r,realtime:i,global:n}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),n),accessToken:()=>Du(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Io="2.69.1",kt=30*1e3,Nr=3,mr=Nr*kt,Fu="http://localhost:9999",Nu="supabase.auth.token",Bu={"X-Client-Info":`gotrue-js/${Io}`},Br="X-Supabase-Api-Version",Lo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qu=6e5;class di extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ku extends di{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Vu(t){return I(t)&&t.name==="AuthApiError"}class Do extends di{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class rt extends di{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class Je extends rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ju(t){return I(t)&&t.name==="AuthSessionMissingError"}class yr extends rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bs extends rt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ws extends rt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wu(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class en extends rt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hr extends rt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function br(t){return I(t)&&t.name==="AuthRetryableFetchError"}class tn extends rt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Zt extends rt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rn=` 	
\r=`.split(""),zu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rn.length;e+=1)t[rn[e].charCodeAt(0)]=-2;for(let e=0;e<sn.length;e+=1)t[sn[e].charCodeAt(0)]=e;return t})();function Uo(t,e,s){const r=zu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nn(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{Qu(o,r,s)};for(let o=0;o<t.length;o+=1)Uo(t.charCodeAt(o),i,n);return e.join("")}function Gu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Yu(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Gu(r,e)}}function Qu(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Xu(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Uo(t.charCodeAt(i),s,r);return new Uint8Array(e)}function Zu(t){const e=[];return Yu(t,s=>e.push(s)),new Uint8Array(e)}function eh(t){return Math.round(Date.now()/1e3)+t}function th(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $e=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},es=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function sh(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const Mo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Rt(()=>Promise.resolve().then(()=>Lt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},rh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fo=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ss=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ts=async(t,e)=>{await t.removeItem(e)};class Xs{constructor(){this.promise=new Xs.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Xs.promiseConstructor=Promise;function wr(t){const e=t.split(".");if(e.length!==3)throw new Zt("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Hu.test(e[r]))throw new Zt("JWT not in base64url format");return{header:JSON.parse(nn(e[0])),payload:JSON.parse(nn(e[1])),signature:Xu(e[2]),raw:{header:e[0],payload:e[1]}}}async function ih(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nh(t,e){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await t(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){i(o);return}}})()})}function oh(t){return("0"+t.toString(16)).substr(-2)}function ah(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let n=0;n<56;n++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,oh).join("")}async function lh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function ch(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await lh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wt(t,e,s=!1){const r=ah();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Fo(t,`${e}-code-verifier`,i);const n=await ch(r);return[n,r===n?"plain":"s256"]}const uh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hh(t){const e=t.headers.get(Br);if(!e||!e.match(uh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ph=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};const ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gh=[502,503,504];async function on(t){var e;if(!rh(t))throw new Hr(ht(t),0);if(gh.includes(t.status))throw new Hr(ht(t),t.status);let s;try{s=await t.json()}catch(n){throw new Do(ht(n),n)}let r;const i=hh(t);if(i&&i.getTime()>=Lo["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new tn(ht(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Je}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new tn(ht(s),t.status,s.weak_password.reasons);throw new Ku(ht(s),t.status||500,r)}const _h=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function D(t,e,s,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[Br]||(n[Br]=Lo["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await vh(t,e,s+a,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function vh(t,e,s,r,i,n){const o=_h(e,r,i,n);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Hr(ht(l),0)}if(a.ok||await on(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await on(l)}}function We(t){var e;let s=null;wh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=eh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function an(t){const e=We(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mh(t){return{data:t,error:null}}function yh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n}=t,o=ph(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function bh(t){return t}function wh(t){return t.access_token&&t.refresh_token&&t.expires_in}var Sh=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};class Th{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Mo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qe})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Sh(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(I(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qe})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,n,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:bh});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);u[`${C}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qe})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Qe})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qe})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(I(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}}const Eh={getItem:t=>es()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{es()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{es()&&globalThis.localStorage.removeItem(t)}};function ln(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function kh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const St={debug:!!(globalThis&&es()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class No extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xh extends No{}async function Oh(t,e,s){St.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),St.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){St.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{St.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw St.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(St.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}kh();const Ah={url:Fu,storageKey:Nu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cn(t,e,s){return await s()}class os{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ah),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Th({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Mo(i.fetch),this.lock=i.lock||cn,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$e()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Oh:this.lock=cn,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:es()?this.storage=Eh:(this.memoryStorage={},this.storage=ln(this.memoryStorage)):(this.memoryStorage={},this.storage=ln(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Io}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=sh(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),$e()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(s,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),Wu(n)){const l=(e=n.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return I(s)?{error:s}:{error:new Do("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const n=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:We}),{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var s,r,i;try{let n;if("email"in e){const{email:c,password:f,options:p}=e;let g=null,E=null;this.flowType==="pkce"&&([g,E]=await wt(this.storage,this.storageKey)),n=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:E},xform:We})}else if("phone"in e){const{phone:c,password:f,options:p}=e;n=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:We})}else throw new bs("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let s;if("email"in e){const{email:n,password:o,options:a}=e;s=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:an})}else if("phone"in e){const{phone:n,password:o,options:a}=e;s=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:an})}else throw new bs("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ss(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:n,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:We});if(await Ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new yr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:o})}catch(n){if(I(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:n,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:We}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,i,n,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await wt(this.storage,this.storageKey));const{error:f}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new bs("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let i,n;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,n=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:We});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,r,i;try{let n=null,o=null;return this.flowType==="pkce"&&([n,o]=await wt(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:mh})}catch(n){if(I(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Je;const{error:i}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:n}=e,{error:o}=await D(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:n}=e,{data:o,error:a}=await D(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bs("You must provide either an email or phone number and a type")}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qe}):await this._useSession(async s=>{var r,i,n;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Je}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:Qe})})}catch(s){if(I(s))return Ju(s)&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new Je;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await wt(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qe});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Je;const s=Date.now()/1e3;let r=s,i=!0,n=null;const{payload:o}=wr(e.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(s){if(I(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Je;const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!$e())throw new ws("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ws(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new en("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ws("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new en("No code detected.");const{data:F,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!n||!a||!o||!u)throw new ws("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const g=p-c;g*1e3<=kt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const E=p-f;c-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,p,c):c-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,p,c);const{data:x,error:C}=await this._getUser(n);if(C)throw C;const R={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return{error:n};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Vu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=th(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:n},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await wt(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(n){if(I(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:i}=await this._useSession(async n=>{var o,a,l,u,c;const{data:f,error:p}=n;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return $e()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(I(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await nh(async i=>(i>0&&await ih(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:We})),(i,n)=>{const o=200*Math.pow(2,i);return n&&br(n)&&Date.now()+o-r<kt})}catch(r){if(this._debug(s,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),$e()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ss(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<mr;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${mr}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:n}=await this._callRefreshToken(r.refresh_token);n&&(console.error(n),br(n)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",n),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xs;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new Je;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={session:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(i,"error",n),I(n)){const o={session:null,error:n};return br(n)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ts(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/kt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kt}ms, refresh threshold is ${Nr} ticks`),i<=Nr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof No)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,o]=await wt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?{data:null,error:n}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(I(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(I(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return{data:null,error:n};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(I(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?{data:null,error:n}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(I(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),n=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:i},error:n}=e;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wr(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+qu>Date.now()))return r;const{data:i,error:n}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!i.keys||i.keys.length===0)throw new Zt("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Zt("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:E}=await this.getSession();if(E||!g.session)return{data:null,error:E};r=g.session.access_token}const{header:i,payload:n,signature:o,raw:{header:a,payload:l}}=wr(r);if(fh(n.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:n,header:i,signature:o},error:null}}const u=dh(i.alg),c=await this.fetchJwk(i.kid,s),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Zu(`${a}.${l}`)))throw new Zt("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}os.nextInstanceID=0;const Ph=os;class Ch extends Ph{constructor(e){super(e)}}var $h=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class jh{constructor(e,s,r){var i,n,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Uu(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Pu,realtime:$u,auth:Object.assign(Object.assign({},Cu),{storageKey:l}),global:Au},c=Mu(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=c.global.headers)!==null&&n!==void 0?n:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Lu(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Yc(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new kc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ku(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return $h(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,storageKey:n,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ch({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:n,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new hu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rh=(t,e,s)=>new jh(t,e,s),Ih={}.VITE_SUPABASE_URL||"https://otiiwxlfsrejhbrxdras.supabase.co",Lh={}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im90aWl3eGxmc3JlamhicnhkcmFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg2NTEwMDYsImV4cCI6MjA0NDIyNzAwNn0.nnJooE-yfCzPgFEwnFyOvuM5uph0COetGaS5wdLiXX8",as=Rh(Ih,Lh);const Bo=(t,e)=>{const s=t.__vccOpts||t;for(const[r,i]of e)s[r]=i;return s},Dh={class:"account-widget"},Uh={key:0,class:"error-message"},Mh={key:1},Fh=["value"],Nh={key:0,class:"api-key-container"},Bh={class:"input-with-copy"},Hh=["value"],qh={key:0},Kh={key:1},Vh={key:1},Jh=["disabled"],Wh={__name:"Account",props:["session"],setup(t){const e=t,{session:s}=Oa(e),r=Ne(!0),i=Ne(""),n=Ne(null),o=Ne(""),a=Ne(!1);ni(()=>{l()});async function l(){try{r.value=!0;const{user:p}=s.value;let{data:g,error:E}=await as.from("hldk_api_keys").select("apikey, expires").eq("user_id",p.id).single();if(E)throw E;g?(i.value=g.apikey,n.value=g.expires):o.value="Error: no api key available please email adam@higherleveldev.com"}catch(p){o.value=p.message}finally{r.value=!1}}async function u(){try{r.value=!0;let{error:p}=await as.auth.signOut();if(p)throw p}catch(p){o.value=p.message}finally{r.value=!1}}function c(p){return p?new Date(p).toLocaleString():""}function f(){navigator.clipboard.writeText(i.value).then(()=>{a.value=!0,setTimeout(()=>{a.value=!1},2e3)},p=>{console.error("Could not copy text: ",p)})}return(p,g)=>(ee(),ae("div",Dh,[g[3]||(g[3]=Y("div",{class:"logo-container"},[Y("img",{src:_o,alt:"Eve Horizon Logo",class:"logo"})],-1)),o.value?(ee(),ae("div",Uh,Tr(o.value),1)):(ee(),ae("div",Mh,[Y("div",null,[g[0]||(g[0]=Y("label",{for:"email"},"Email",-1)),Y("input",{id:"email",type:"text",value:In(s).user.email,disabled:""},null,8,Fh)]),i.value?(ee(),ae("div",Nh,[g[1]||(g[1]=Y("label",{for:"apiKey"},"Eve Horizon API Key",-1)),Y("div",Bh,[Y("input",{id:"apiKey",type:"text",value:i.value,readonly:""},null,8,Hh),Y("button",{onClick:f,class:Ns(["copy-button",{"copy-success":a.value}])},[a.value?(ee(),ae("span",Kh,"")):(ee(),ae("span",qh,""))],2)])])):xt("",!0),n.value?(ee(),ae("div",Vh,[g[2]||(g[2]=Y("label",null,"Expires At",-1)),Y("p",null,Tr(c(n.value)),1)])):xt("",!0)])),Y("div",null,[Y("button",{class:"button block",onClick:u,disabled:r.value}," Sign Out ",8,Jh)])]))}},zh=Bo(Wh,[["__scopeId","data-v-62734638"]]);const Gh={class:"col-6 form-widget"},Yh={key:0,class:"description centered"},Qh={key:1,class:"success-message centered"},Xh={key:2},Zh={key:3},ef=["disabled"],tf={key:0},sf={key:1,class:"spinner"},rf={__name:"Auth",setup(t){const e=Ne(!1),s=Ne(""),r=Ne(!1),i=async()=>{try{e.value=!0;const n=new Promise((u,c)=>setTimeout(()=>c(new Error("Request timed out")),12e4)),o=window.location.href.split("?")[0].split("#")[0];console.log("redirectTo",o);const a=as.auth.signInWithOtp({email:s.value,options:{emailRedirectTo:o}}),{error:l}=await Promise.race([a,n]);if(l)throw l;r.value=!0}catch(n){n instanceof Error&&alert(n.message)}finally{e.value=!1}};return(n,o)=>(ee(),ae("form",{class:"row flex-center flex",onSubmit:fc(i,["prevent"])},[Y("div",Gh,[o[2]||(o[2]=Y("div",{class:"logo-container"},[Y("img",{src:_o,alt:"Eve Horizon Logo",class:"logo"})],-1)),o[3]||(o[3]=Y("h1",{class:"header centered"},"Eve Horizon Access",-1)),r.value?xt("",!0):(ee(),ae("p",Yh,o[1]||(o[1]=[ho("Please enter your email below to get access to Eve Horizon which is available "),Y("a",{href:"https://github.com/HigherLevelDev/hldk",target:"_blank"},"here",-1)]))),r.value?(ee(),ae("p",Qh," Please check your email for instructions on how you can access Eve Horizon ")):xt("",!0),r.value?xt("",!0):(ee(),ae("div",Xh,[Fa(Y("input",{class:"inputField",type:"email",placeholder:"Your email","onUpdate:modelValue":o[0]||(o[0]=a=>s.value=a),autocomplete:"email"},null,512),[[cc,s.value]])])),r.value?xt("",!0):(ee(),ae("div",Zh,[Y("button",{type:"submit",class:"button block",disabled:e.value},[e.value?(ee(),ae("div",sf)):(ee(),ae("span",tf,"Sign up to get access"))],8,ef)]))])],32))}},nf=Bo(rf,[["__scopeId","data-v-1ef2c4ea"]]),of={class:"container",style:{padding:"50px 0 100px 0"}},af={__name:"App",setup(t){const e=Ne();return ni(()=>{as.auth.getSession().then(({data:s})=>{e.value=s.session}),as.auth.onAuthStateChange((s,r)=>{e.value=r})}),(s,r)=>(ee(),ae("div",of,[e.value?(ee(),jr(zh,{key:0,session:e.value},null,8,["session"])):(ee(),jr(nf,{key:1}))]))}};gc(af).mount("#app");export{lf as g};
